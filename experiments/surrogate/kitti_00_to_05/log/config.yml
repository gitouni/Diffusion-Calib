dataset:
  common_args:
    basedir: ./data/kitti/
    cam_id: 2
    extend_ratio: &id001
    - 2.5
    - 2.5
    meta_json: data_len.json
    pcd_sample_num: 8192
    resize_size: null
    skip_frame: 1
    voxel_size: 0.15
  test:
    dataloader:
      args:
        batch_size: 1
        drop_last: false
        num_workers: 4
        pin_memory: true
        shuffle: false
    dataset:
      base:
        basedir: ./data/kitti/
        batch_size: 1
        cam_id: 2
        extend_ratio: *id001
        meta_json: data_len.json
        pcd_sample_num: 8192
        resize_size: null
        seqs:
        - '06'
        - '07'
        - 08
        skip_frame: 1
        voxel_size: 0.15
      main:
        max_deg: 15
        max_tran: 0.1
  train:
    dataloader:
      args:
        batch_sampler: !!python/object:dataset.KITTIBatchSampler
          dataset_len: 64
          len_of_sequences:
          - 4541
          - 1101
          - 4661
          - 801
          - 271
          - 2761
          - 1101
          num_samples: 6
          num_sequences: 7
        collate_fn: &id002 !!python/name:dataset.collate_fn ''
        num_workers: 4
        pin_memory: true
      common_args:
        num_workers: 4
        pin_memory: true
      val_args:
        batch_sampler: !!python/object:dataset.KITTIBatchSampler
          dataset_len: 32
          len_of_sequences:
          - 1101
          - 4071
          num_samples: 6
          num_sequences: 2
        collate_fn: *id002
        num_workers: 4
        pin_memory: true
    dataset:
      train:
        base:
          basedir: ./data/kitti/
          cam_id: 2
          extend_ratio: *id001
          meta_json: data_len.json
          pcd_sample_num: 8192
          resize_size: null
          seqs:
          - '00'
          - '01'
          - '02'
          - '03'
          - '04'
          - '05'
          - '06'
          skip_frame: 1
          voxel_size: 0.15
        main:
          max_deg: 15
          max_tran: 0.1
      val:
        base:
          basedir: ./data/kitti/
          cam_id: 2
          extend_ratio: *id001
          meta_json: data_len.json
          pcd_sample_num: 8192
          resize_size: null
          seqs:
          - '07'
          - 08
          skip_frame: 1
          voxel_size: 0.15
        main:
          max_deg: 15
          max_tran: 0.1
device: cuda:0
loss:
  pcd:
    args:
      reduction: mean
    type: mae
  weights:
    R: 1.0
    pcd: 0.3
    t: 1.0
model:
  diffusion_scheduler:
    train:
      add_noise: true
      beta_1: 0.0001
      beta_T: 0.05
      n_diff_steps: 200
      schedule_type: cosine
      sigma_r: 0.05
      sigma_t: 0.03
    val:
      add_noise: true
      beta_1: 0.0001
      beta_T: 0.05
      n_diff_steps: 200
      schedule_type: cosine
      sigma_r: 0.05
      sigma_t: 0.03
  surrogate:
    encoder_argv:
      encoder_2d_chans:
      - 64
      - 96
      - 128
      - 192
      encoder_3d_chans:
      - 64
      - 96
      - 128
      - 192
      pcd_pyramid:
      - 4096
      - 2048
      - 1024
      resnet_depth: 18
      resnet_pretrained: pretrained/resnet18-5c106cde.pth
    hidden_dims:
    - 128
    - 128
    - 128
    - 128
    x_dim: 6
optimizer:
  args:
    betas:
    - 0.9
    - 0.999
    lr: 0.0003
  max_grad: 3.0
path:
  base_dir: experiments
  checkpoint: checkpoint
  log: log
  name: kitti_00_to_05
  results: results
  resume: experiments/kitti_00_to_05/checkpoint/last_model.pth
run:
  log_per_iter: 16
  n_epoch: 50
  val_per_epoch: 10
scheduler:
  args:
    gamma: 0.5
    step_size: 10
  type: step
seed: 2514
